(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{120:function(t,e,r){},203:function(t,e,r){"use strict";var s=r(120);r.n(s).a},356:function(t,e,r){"use strict";r.r(e);var s=r(7),n=r.n(s),i=r(0),a=r(1);function c(t){return function(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function o(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},s=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(r).filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),s.forEach(function(e){u(t,e,r[e])})}return t}function u(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var l={components:{draggable:n.a},data:function(){return{showPattern:!1}},computed:o({},Object(i.c)(["youtubeApiKeyUI"]),Object(i.e)(["currentMediaSource","extensionAvilable"]),Object(a.p)("webScraper",["sources","forward"]),Object(i.e)({matrixSources:function(t){return t.matrix.sources},matrixSourcesOrdered:function(t){return t.matrix.sourcesOrdered}}),{settings:function(){var t=this.currentMediaSource,e=t.id;return"webScraper"!==t.type?{}:this.sources[e].settings||{}},_forwards:function(){return this.forward[this.currentMediaSource.id]||[]},_forwardSources:function(){var t=this.forward[this.currentMediaSource.id]||[],e=new Set(t.map(function(t){return t.id}));return this.matrixSourcesOrdered.filter(function(t){return!e.has(t)})},_urls:{get:function(){return this.settings.urls||[]},set:function(t){this.updateWebScraper({id:this.currentMediaSource.id,values:{settings:o({},this.settings,{urls:t})}})}}}),methods:o({},Object(i.d)(["updateWebScraper","addUrlPattern","editWebScraperForward"]),Object(i.b)(["renameWebScraper"]),{updateSettings:function(t){this.updateWebScraper({id:this.currentMediaSource.id,values:{settings:o({},this.settings,t)}})},_editWatchPage:function(){var t=this.$refs.watchInputUrl,e=this.$refs.watchInputCss;this.updateWebScraper({id:this.currentMediaSource.id,values:{settings:o({},this.settings,{watchUrl:t.value,watchCss:e.value})}}),t.value="",e.value=""},_addUrlPattern:function(){var t=this.$refs.urlInput;this.addUrlPattern({id:this.currentMediaSource.id,urlPattern:t.value}),t.value=""},removeUrl:function(t){this.updateSettings({urls:this._urls.filter(function(e){return e.url!==t})})},addForward:function(){var t=this.$refs.forward.value,e=this.forward[this.currentMediaSource.id]||[];this.editWebScraperForward({id:this.currentMediaSource.id,forward:c(e).concat([{type:"matrix",id:t}])})},removeForward:function(t){var e=this.forward[this.currentMediaSource.id]||[];this.editWebScraperForward({id:this.currentMediaSource.id,forward:e.filter(function(e){return e.id!==t})})}})},d=(r(203),r(2)),p=Object(d.a)(l,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"settings ws-settings"},[t.extensionAvilable?t._e():r("p",{staticClass:"smaller"},[t._v("\n\t\tPlease install the "),r("a",{attrs:{href:"https://chrome.google.com/webstore/detail/ekpajajepcojhnjmlibfbjmdjcafajoh",target:"_blank"}},[t._v("Audius extension")]),t._v(" for this feature.\n\t")]),t._v(" "),r("input",{staticClass:"ws-settings__name",attrs:{type:"text",placeholder:"... name"},domProps:{value:this.currentMediaSource.id},on:{input:function(e){t.renameWebScraper({oldName:t.currentMediaSource.id,newName:e.target.value})}}}),t._v(" "),r("div",{staticClass:"button-group"},[r("button",{staticClass:"button btn--tab",class:{"btn--tab-active":"urls"==t.settings.type},on:{click:function(e){t.updateSettings({type:"urls"})}}},[t._v("URL patterns")]),t._v(" "),r("button",{staticClass:"button btn--tab",class:{"btn--tab-active":"script"==t.settings.type},on:{click:function(e){t.updateSettings({type:"script"})}}},[t._v("Script")]),t._v(" "),r("button",{staticClass:"button btn--tab",class:{"btn--tab-active":"watch"==t.settings.type},on:{click:function(e){t.updateSettings({type:"watch"})}}},[t._v("Watch")])]),t._v(" "),"script"==t.settings.type?r("div",{staticClass:"ws-settings__script"},[r("textarea",{staticClass:"input--border",attrs:{rows:"10"},domProps:{value:t.settings.script},on:{input:function(e){e.stopPropagation(),t.updateSettings({script:e.target.value})}}}),t._v(" "),t._m(0)]):t._e(),t._v(" "),"watch"==t.settings.type?r("div",{staticClass:"ws-settings__watch"},[r("div",[t._v("\n\t\t\t"+t._s(t.settings.watchUrl||"please set a URL pattern")+"\n\t\t\t"),r("br"),t._v("\n\t\t\t"+t._s(t.settings.watchCss)+"\n\t\t")]),t._v(" "),r("div",[r("input",{ref:"watchInputUrl",attrs:{type:"text",placeholder:"… http://*.slack.com/"}}),t._v(" "),r("div",[t._v(" URL pattern ")])]),t._v(" "),r("div",[r("input",{ref:"watchInputCss",attrs:{type:"text",placeholder:"… [title='abc']"}}),t._v(" "),r("div",[t._v(" CSS rule (optional) ")])]),t._v(" "),r("button",{staticClass:"button btn--blue",on:{click:t._editWatchPage}},[t._v(" set ")]),t._v(" "),r("p",{staticClass:"smaller"},[t._v("\n\t\t\tScrape media links from an open tab in your browser.\n\t\t")])]):t._e(),t._v(" "),"urls"==t.settings.type?r("div",[r("h3",[t._v("URLS")]),t._v(" "),r("draggable",{staticClass:"input-list",attrs:{element:"ul",options:{animation:150,scrollSpeed:20}},model:{value:t._urls,callback:function(e){t._urls=e},expression:"_urls"}},t._l(t._urls,function(e){return r("li",[r("div",[t._v("\n\t\t\t\t\t"+t._s(e.url)+"\n\t\t\t\t")]),t._v(" "),r("div",[t._v("\n\t\t\t\t\t("+t._s(e.numPages)+" Page"+t._s(e.numPages>1?"s":"")+")\n\t\t\t\t")]),t._v(" "),r("div",{staticClass:"input-list__menu"},[r("span",{staticClass:"wmp-icon-close",attrs:{title:"Delte URL"},on:{click:function(r){t.removeUrl(e.url)}}})])])})),t._v(" "),r("ul",{staticClass:"input-list"},[r("li",[r("input",{ref:"urlInput",attrs:{type:"text",placeholder:"… http://www.example.com/page/[1-100]"}}),t._v(" "),r("span",{staticClass:"wmp-icon-add",on:{click:t._addUrlPattern}})])])],1):t._e(),t._v(" "),t.matrixSourcesOrdered.length?r("div",[r("h3",[t._v("Forward")]),t._v(" "),r("div",{staticClass:"ws-settings__forward-list"},t._l(t._forwards,function(e,s){return r("div",{key:s},[r("div",[t._v(t._s(t.matrixSources[e.id]?t.matrixSources[e.id].name:e.id))]),t._v(" "),r("span",{staticClass:"wmp-icon-close",on:{click:function(r){t.removeForward(e.id)}}})])})),t._v(" "),r("div",{staticClass:"ws-settings__new-forward"},[r("select",{ref:"forward"},t._l(t._forwardSources,function(e){return r("option",{domProps:{value:e}},[t._v(t._s(t.matrixSources[e].name))])})),t._v(" "),r("span",{staticClass:"wmp-icon-add",on:{click:t.addForward}})]),t._v(" "),r("p",{staticClass:"smaller"},[t._v("\n\t\t\tPost new items to a matrix room.\n\t\t")])]):t._e()])},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"smaller"},[this._v("The code is executed in a "),e("a",{attrs:{href:"https://developer.chrome.com/extensions/sandboxingEval"}},[this._v("secure sandbox")]),this._v(" in the extension.")])}],!1,null,null,null);p.options.__file="web-scraper-settings.vue";e.default=p.exports}}]);