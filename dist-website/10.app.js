(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{146:function(t,e,n){"use strict";n.r(e);var i=n(491),o=n(225);for(var r in o)"default"!==r&&function(t){n.d(e,t,function(){return o[t]})}(r);n(347);var s=n(0),a=Object(s.a)(o.default,i.a,i.b,!1,null,null,null);a.options.__file="matrix-room-settings.vue",e.default=a.exports},225:function(t,e,n){"use strict";n.r(e);var i=n(226),o=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,function(){return i[t]})}(r);e.default=o.a},226:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},o=n(1),r=n(2);e.default={data:function(){return{showConfirmDelte:!1}},computed:i({},(0,o.mapGetters)(["youtubeApiKeyUI"]),(0,o.mapState)(["currentMediaSource"]),(0,r.mapModuleState)("matrix",["credentials","sources","membersIndex"]),{currentMatrixRoom:function(){return"matrix"===this.currentMediaSource.type?this.currentMediaSource.id:null},room:function(){return this.sources[this.currentMediaSource.id]},members:function(){var t=this;return this.room.members?this.room.members.map(function(e){return Object.assign({},e,{name:t.membersIndex[e.id]?t.membersIndex[e.id].name:e.id})}):[]},admin:function(){return this.members.filter(function(t){return t.powerLevel>=100})},speaker:function(){return this.members.filter(function(t){var e=t.powerLevel;return e>=50&&e<100})},listener:function(){return this.members.filter(function(t){return t.powerLevel<50})},myId:function(){return this.credentials.userId}}),methods:i({},(0,o.mapActions)(["setRoomName","updateRoomOptions","setRoomTag","leaveMatrixRoom"]),(0,o.mapMutations)(["toggleHideRoom"]),{_setRoomName:(0,r.debounce)(function(t,e){this.setRoomName({id:t,name:e})},1e3),_inviteUser:function(){}})}},227:function(t,e,n){},347:function(t,e,n){"use strict";var i=n(227);n.n(i).a},491:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"settings matrix-settings"},[n("div",{staticClass:"matrix-settings__hidden-icon"},[n("div",{class:t.room.hidden?"wmp-icon-visibility_off":"wmp-icon-visibility",on:{click:function(e){t.toggleHideRoom(t.currentMediaSource.id)}}}),t._v(" "),n("div",{staticClass:"wmp-icon-close",attrs:{title:"Leave room"},on:{click:function(e){t.showConfirmDelte=t.currentMediaSource.id}}})]),t._v(" "),n("input",{staticClass:"matrix-settings__name",attrs:{type:"text",placeholder:"â€¦ name",disabled:!t.room.isAdmin},domProps:{value:t.room.name},on:{input:function(e){t._setRoomName(t.currentMatrixRoom,e.target.value)}}}),t._v(" "),n("div",{staticClass:"row"},[n("a",{attrs:{href:"https://matrix.to/#/"+t.room.alias,target:"_blank",rel:"noopener"}},[t._v(t._s(t.room.alias))])]),t._v(" "),n("div",{staticClass:"spacer"}),t._v(" "),t.room.isAdmin?t._e():n("div",{staticClass:"smaller row"},[n("b",[t._v("You are not an admin")]),t._v(", you can not edit this room.")]),t._v(" "),n("h3",[t._v(t._s(t.room.members.length)+" Members")]),t._v(" "),n("h4",[t._v("Admin")]),t._v(" "),n("div",{staticClass:"row"},t._l(t.admin,function(e){return n("div",{class:{"matrix-settings__me":e.id===t.myId},attrs:{title:e.id}},[t._v("\n\t\t\t"+t._s(e.name)+"\n\t\t")])})),t._v(" "),t.speaker.length?n("h4",[t._v("50+ Powers")]):t._e(),t._v(" "),n("div",{staticClass:"row"},t._l(t.speaker,function(e){return n("div",{class:{"matrix-settings__me":e.id===t.myId},attrs:{title:e.id}},[t._v("\n\t\t\t"+t._s(e.name)+"\n\t\t")])})),t._v(" "),n("h4",[t._v("Other")]),t._v(" "),n("div",{staticClass:"row"},t._l(t.listener,function(e){return n("div",{class:{"matrix-settings__me":e.id===t.myId},attrs:{title:e.id}},[t._v("\n\t\t\t"+t._s(e.name)+"\n\t\t")])})),t._v(" "),n("h3",[t._v("Options")]),t._v(" "),n("div",{staticClass:"row"},[n("div",[n("input",{attrs:{type:"checkbox",disabled:!t.room.isAdmin,id:"hidden-room"},domProps:{checked:t.room.isHidden},on:{change:function(e){t.updateRoomOptions({id:t.currentMatrixRoom,isHidden:e.target.checked})}}}),n("label",{attrs:{for:"hidden-room"}}),t._v("\n\t\t\tHidden\n\t\t\t"),n("span",{staticClass:"smaller"},[t._v("Not publicly listed")])]),t._v(" "),n("div",[n("input",{attrs:{type:"checkbox",disabled:!t.room.isAdmin,id:"allow-guests"},domProps:{checked:t.room.allowGuests},on:{change:function(e){t.updateRoomOptions({id:t.currentMatrixRoom,allowGuests:e.target.checked})}}}),n("label",{attrs:{for:"allow-guests"}}),t._v("\n\t\t\tAllow guests to join\n\t\t")])]),t._v(" "),t.showConfirmDelte?n("div",{staticClass:"modal",on:{click:function(e){t.showConfirmDelte=!1}}},[n("div",{staticClass:"modal__body",on:{click:function(t){t.stopPropagation()}}},[t._v("\n\t\t\t\tAre you sure you want to leave the room?\n\t\t\t\t"),n("div",{staticClass:"modal__btn-group"},[n("button",{staticClass:"button",on:{click:function(e){t.showConfirmDelte=!1}}},[t._v("Cancel")]),t._v(" "),n("button",{staticClass:"button btn--blue",on:{click:function(e){e.stopPropagation(),t.leaveMatrixRoom(t.showConfirmDelte),t.showConfirmDelte=!1}}},[t._v("Leave")])])])]):t._e()])},o=[];n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o})}}]);