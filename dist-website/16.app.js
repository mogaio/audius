(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{126:function(e,t,r){},216:function(e,t,r){"use strict";var i=r(126);r.n(i).a},365:function(e,t,r){"use strict";r.r(t);var i=r(0),a=r(1);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}window.AudioContext=window.AudioContext||window.webkitAudioContext;var o={data:function(){return{player:null,_mediaUrl:"",timeInterval:void 0,skipToTimeLocal:0,audioPlayer:new Audio,videoPlayer:void 0}},mounted:function(){var e=this;this.videoPlayer=document.querySelector(".video-player"),this.player=this["".concat(this.currentMedia.type,"Player")],this.player.src=this.currentMedia.url,this.player.play(),this.videoPlayer.onended=function(){clearInterval(e.timeInterval),e.nextVideo()}},created:function(){var e=this;this.failCount=0,this.audioPlayer.onended=function(){clearInterval(e.timeInterval),e.nextVideo()},this.subscriptions=[this.$store.watch(function(e){return e.currentMedia},function(){"audio"===e.currentMedia.type?(e.player=e.audioPlayer,e.videoPlayer.pause()):"video"===e.currentMedia.type?(e.player=e.videoPlayer,e.audioPlayer.pause()):(clearInterval(e.timeInterval),e.audioPlayer.pause(),e.videoPlayer.pause(),e._mediaUrl=null),["audio","video"].includes(e.currentMedia.type)&&e.currentMedia.url!==e._mediaUrl&&(e.player.src=e.currentMedia.url,e.currentMedia.start&&(e.player.currentTime=e.currentMedia.start),e._play(e.player),e._startInterval(),e._mediaUrl=e.currentMedia.url)}),this.$store.watch(function(e){return e.isPlaying},function(){"audio"===e.currentMedia.type&&e.isPlaying?(e._play(e.audioPlayer),e._startInterval()):"video"===e.currentMedia.type&&e.isPlaying?(e._play(e.videoPlayer),e._startInterval()):(clearInterval(e.timeInterval),e.videoPlayer.pause(),e.audioPlayer.pause())}),this.$store.watch(function(e){return e.skipToTime},function(){e.player&&e.skipToTimeLocal!==e.skipToTime&&(e.skipToTimeLocal=e.skipToTime,e.player.currentTime=e.skipToTime)})]},beforeDestroy:function(){this.subscriptions.forEach(function(e){e()})},computed:Object(i.e)(["currentMedia","mute","skipToTime","isPlaying"]),methods:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},i=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),i.forEach(function(t){n(e,t,r[t])})}return e}({},Object(i.d)(["play","pause","setCurrentTime","videoError","error","updateCurrentMedia"]),Object(i.b)(["nextVideo"]),{_startInterval:function(){var e=this;clearInterval(this.timeInterval),this.timeInterval=setInterval(function(){e.currentMedia.stop&&e.player.currentTime>=e.currentMedia.stop&&e.nextVideo(),e.setCurrentTime(e.player.currentTime)},1e3)},_play:function(e){var t=this,r=e.play();void 0!==r&&r.then(function(){if(t.failCount=0,!t.currentMedia.durationS){var r=Math.round(e.duration);t.updateCurrentMedia({duration:Object(a.q)(r),durationS:r})}}).catch(function(e){t.videoError(),t.error("The video could not be played: ".concat(e.message)),t.failCount>=3?(t.error("More than 3 failed playback attempts. Stopping playback."),t.pause()):t.failCount++})}})},u=(r(216),r(2)),l=Object(u.a)(o,function(){var e=this.$createElement;return(this._self._c||e)("video",{staticClass:"video-player",attrs:{src:""}},[this._v("\n\tSorry, your browser doesn't support embedded videos.\n")])},[],!1,null,null,null);l.options.__file="web-media-player.vue";t.default=l.exports}}]);