(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{152:function(t,e,i){"use strict";i.r(e);var n=i(465),a=i(240);for(var o in a)"default"!==o&&function(t){i.d(e,t,function(){return a[t]})}(o);i(342);var r=i(0),s=Object(r.a)(a.default,n.a,n.b,!1,null,"b1502ef0",null);e.default=s.exports},240:function(t,e,i){"use strict";i.r(e);var n=i(241),a=i.n(n);for(var o in n)"default"!==o&&function(t){i.d(e,t,function(){return n[t]})}(o);e.default=a.a},241:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},a=i(1);e.default={data:function(){return{copyActive:null,copyURLActive:null}},computed:n({},(0,a.mapState)(["exportURLs","currentMediaSource","isMobile"]),(0,a.mapGetters)(["currentName","currentExportData"]),(0,a.mapState)({matrixRooms:function(t){return t.matrix.sources}})),methods:n({},(0,a.mapActions)(["exportToURL","exportToFile","error"]),{exportFile:function(){var t=this.currentMediaSource,e=t.id,i=t.type;this.exportToFile({data:this.currentExportData,fileName:(e||"Default")+"."+{playList:"audius-playlist",webScraper:"audius-channel"}[i]})},niceDate:function(t){if(!t)return t;var e=new Date(t),i=e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes();return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()+" "+e.getHours()+":"+i},getLink:function(t,e,i){return"Imgur"===t?window.location.href+"?showImgur=1":"matrix"===t?window.location.href+"?import="+this.currentMediaSource.id+"&type="+this.currentMediaSource.type+"&title="+encodeURIComponent(this.matrixRooms[this.currentMediaSource.id].name):["channel","playList",void 0].includes(t)?window.location.href+"?import="+e+"&type="+t+"&title="+encodeURIComponent(i):"url"===t?e:""},copyToClip:function(t,e,i){var n=this;window.getSelection().removeAllRanges();var a=document.createElement("div");a.innerHTML=this.getLink(t,e,i),document.body.appendChild(a);var o=document.createRange();o.selectNode(a),window.getSelection().addRange(o);try{document.execCommand("copy"),i?this.copyActive=e:this.copyURLActive=e||!0,setTimeout(function(){n.copyURLActive=null,n.copyActive=null},800)}catch(t){this.error("Could not copy to clipboard. "+t)}window.getSelection().removeAllRanges(),a.parentNode.removeChild(a)},twitterLink:function(t){var e=(t.name||"Default")+" ("+t.type+") "+this.getLink(t.type,t.url,t.name);return"https://twitter.com/intent/tweet?text="+encodeURIComponent(e)},whatsAppLink:function(t){var e=(t.name||"Default")+" ("+t.type+") "+this.getLink(t.type,t.url,t.name);return encodeURIComponent("https://api.whatsapp.com/send?text="+encodeURIComponent(e))}})}},242:function(t,e,i){},342:function(t,e,i){"use strict";var n=i(242);i.n(n).a},465:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"play-list__import play-list__export"},[i("div",{staticClass:"play-list__import-header"},[i("div",[t._v(" Share "+t._s(t.exportTypeName)+" ")]),t._v(" "),i("span",{staticClass:"wmp-icon-close",attrs:{title:"[Esc] Close"},on:{click:function(e){t.$emit("toggleExport",!1)}}})]),t._v(" "),"webScraper"===t.currentMediaSource.type&&"Imgur"==t.currentMediaSource.id?i("div",{staticClass:"play-list__export-room"},[i("button",{staticClass:"button btn--blue play-list__export-copy-room",class:{active:t.copyURLActive},on:{click:function(e){t.copyToClip("Imgur")}}},[t._v("\n\t\t\t\tcopy link\n\t\t\t")])]):t._e(),t._v(" "),"matrix"===t.currentMediaSource.type&&t.currentMediaSource.id?i("div",{staticClass:"play-list__export-room"},[i("button",{staticClass:"button btn--blue play-list__export-copy-room",class:{active:t.copyURLActive},on:{click:function(e){t.copyToClip("matrix")}}},[t._v("\n\t\t\t\tcopy link\n\t\t\t")]),t._v(" "),i("a",{staticClass:"button btn--blue",attrs:{href:t.twitterLink({type:"matrix",name:t.matrixRooms[t.currentMediaSource.id].name}),target:"_blank",rel:"noopener"}},[i("span",{staticClass:"wmp-icon-twitter"}),t._v(" "),i("div",[t._v("twitter")])]),t._v(" "),t.isMobile?i("a",{staticClass:"button btn--blue",attrs:{href:t.whatsAppLink({type:"matrix",name:t.matrixRooms[this.currentMediaSource.id].name}),target:"_blank",rel:"noopener"}},[i("span",{staticClass:"wmp-icon-whatsapp"}),t._v(" "),i("div",[t._v("whatsapp")])]):t._e()]):i("div",["Imgur"!=t.currentMediaSource.id?i("div",{staticClass:"button-group"},[i("button",{staticClass:"button btn--blue",on:{click:t.exportToURL}},[t._v("create link")])]):t._e(),t._v(" "),t.exportURLs.length?i("div",{staticClass:"play-list__export-list-wrapper"},["Imgur"!=t.currentMediaSource.id?i("p",{staticClass:"smaller"},[t._v("\n\t\t\t\tClick and paste to share your "+t._s(t.exportTypeName)+".\n\t\t\t")]):t._e(),t._v(" "),i("p",[i("ul",{staticClass:"play-list__exports"},t._l(t.exportURLs,function(e){return i("li",[i("div",{staticClass:"play-list__full",class:{active:t.copyActive==e.url},attrs:{title:"Copy link"},on:{click:function(i){t.copyToClip(e.type,e.url,e.name||"Default")}}},[i("div",{staticClass:"play-list__name"},[i("span",[t._v("\n\t\t\t\t\t\t\t\t"+t._s(e.name||"Default")+" "+t._s(e.type&&!e.type.includes("play")?"("+e.type+")":"")+"\n\t\t\t\t\t\t\t\t")]),t._v(" "),i("span",{staticClass:"play-list__date"},[t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(t.niceDate(e.date))+"\n\t\t\t\t\t\t\t\t")])]),t._v(" "),i("div",{staticClass:"play-list__url"},[t._v(t._s(e.url))])]),t._v(" "),i("div",{on:{click:function(i){t.copyToClip(e.type,e.url,e.name||"Default")}}},[i("span",{staticClass:"wmp-icon-link"})]),t._v(" "),t.isMobile?i("div",[i("a",{attrs:{href:t.whatsAppLink(e),target:"_blank",rel:"noopener"}},[i("span",{staticClass:"wmp-icon-whatsapp"})])]):t._e(),t._v(" "),i("div",[i("a",{attrs:{href:t.twitterLink(e),target:"_blank",rel:"noopener"}},[i("span",{staticClass:"wmp-icon-twitter"})])]),t._v(" "),i("div",{class:{active:t.copyURLActive==e.url},attrs:{title:"Copy data URL"},on:{click:function(i){t.copyToClip("url",e.url)}}},[i("span",{staticClass:"wmp-icon-copy"})])])}))])]):t._e(),t._v(" "),i("div",{staticClass:"button-group"},[i("button",{staticClass:"button btn--blue",on:{click:t.exportFile}},[t._v("save file")])])])])},a=[];i.d(e,"a",function(){return n}),i.d(e,"b",function(){return a})}}]);