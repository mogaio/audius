(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{154:function(t,e,n){"use strict";n.r(e);var i=n(487),a=n(251);for(var o in a)"default"!==o&&function(t){n.d(e,t,function(){return a[t]})}(o);n(363);var r=n(0),s=Object(r.a)(a.default,i.a,i.b,!1,null,null,null);s.options.__file="play-list-export.vue",e.default=s.exports},251:function(t,e,n){"use strict";n.r(e);var i=n(252),a=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,function(){return i[t]})}(o);e.default=a.a},252:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},a=n(1);e.default={data:function(){return{copyActive:null,copyURLActive:null}},computed:i({},(0,a.mapState)(["exportURLs","currentMediaSource","isMobile"]),(0,a.mapGetters)(["currentName","currentExportData"]),(0,a.mapState)({matrixRooms:function(t){return t.matrix.sources}}),{exportTypeName:function(){return{playList:"Playlist",matrix:"Room",webScraper:"Channel"}[this.currentMediaSource.type]}}),methods:i({},(0,a.mapActions)(["exportToURL","exportToFile","error"]),{exportFile:function(){var t=this.currentMediaSource,e=t.id,n=t.type;this.exportToFile({data:this.currentExportData,fileName:(e||"Default")+"."+{playList:"audius-playlist",webScraper:"audius-channel"}[n]})},niceDate:function(t){if(!t)return t;var e=new Date(t),n=e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes();return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()+" "+e.getHours()+":"+n},getLink:function(t,e,n){return"Imgur"===t?window.location.href+"?showImgur=1":"matrix"===t?window.location.href+"?import="+this.currentMediaSource.id+"&type="+this.currentMediaSource.type+"&title="+encodeURIComponent(this.matrixRooms[this.currentMediaSource.id].name):["channel","playList",void 0].includes(t)?window.location.href+"?import="+e+"&type="+t+"&title="+encodeURIComponent(n):"url"===t?e:""},copyToClip:function(t,e,n){var i=this;window.getSelection().removeAllRanges();var a=document.createElement("div");a.innerHTML=this.getLink(t,e,n),document.body.appendChild(a);var o=document.createRange();o.selectNode(a),window.getSelection().addRange(o);try{document.execCommand("copy"),n?this.copyActive=e:this.copyURLActive=e||!0,setTimeout(function(){i.copyURLActive=null,i.copyActive=null},800)}catch(t){this.error("Could not copy to clipboard. "+t)}window.getSelection().removeAllRanges(),a.parentNode.removeChild(a)},twitterLink:function(t){var e=(t.name||"Default")+" ("+t.type+") "+this.getLink(t.type,t.url,t.name);return"https://twitter.com/intent/tweet?text="+encodeURIComponent(e)},whatsAppLink:function(t){var e=(t.name||"Default")+" ("+t.type+") "+this.getLink(t.type,t.url,t.name);return encodeURIComponent("https://api.whatsapp.com/send?text="+encodeURIComponent(e))}})}},253:function(t,e,n){},363:function(t,e,n){"use strict";var i=n(253);n.n(i).a},487:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"play-list__import play-list__export"},[n("div",{staticClass:"play-list__import-header"},[n("div",[t._v(" Share "+t._s(t.exportTypeName)+" ")]),t._v(" "),n("span",{staticClass:"wmp-icon-close",attrs:{title:"[Esc] Close"},on:{click:function(e){t.$emit("toggleExport",!1)}}})]),t._v(" "),"webScraper"===t.currentMediaSource.type&&"Imgur"==t.currentMediaSource.id?n("div",[n("button",{staticClass:"button btn--blue play-list__export-copy-room",class:{active:t.copyURLActive},on:{click:function(e){t.copyToClip("Imgur")}}},[t._v("\n\t\t\t\tcopy link\n\t\t\t")])]):t._e(),t._v(" "),"matrix"===t.currentMediaSource.type?n("div",{staticClass:"play-list__export-room"},[n("button",{staticClass:"button btn--blue play-list__export-copy-room",class:{active:t.copyURLActive},on:{click:function(e){t.copyToClip("matrix")}}},[t._v("\n\t\t\t\tcopy link\n\t\t\t")]),t._v(" "),n("a",{staticClass:"button btn--blue",attrs:{href:t.twitterLink({type:"matrix",name:t.matrixRooms[t.currentMediaSource.id].name}),target:"_blank",rel:"noopener"}},[n("span",{staticClass:"wmp-icon-twitter"}),t._v(" "),n("div",[t._v("twitter")])]),t._v(" "),t.isMobile?n("a",{staticClass:"button btn--blue",attrs:{href:t.whatsAppLink({type:"matrix",name:t.matrixRooms[this.currentMediaSource.id].name}),target:"_blank",rel:"noopener"}},[n("span",{staticClass:"wmp-icon-whatsapp"}),t._v(" "),n("div",[t._v("whatsapp")])]):t._e()]):n("div",["Imgur"!=t.currentMediaSource.id?n("div",{staticClass:"button-group"},[n("button",{staticClass:"button btn--blue",on:{click:t.exportToURL}},[t._v("create link")])]):t._e(),t._v(" "),t.exportURLs.length?n("div",{staticClass:"play-list__export-list-wrapper"},["Imgur"!=t.currentMediaSource.id?n("p",{staticClass:"smaller"},[t._v("\n\t\t\t\tClick and paste to share your "+t._s(t.exportTypeName)+".\n\t\t\t")]):t._e(),t._v(" "),n("p",[n("ul",{staticClass:"play-list__exports"},t._l(t.exportURLs,function(e){return n("li",[n("div",{staticClass:"play-list__full",class:{active:t.copyActive==e.url},attrs:{title:"Copy link"},on:{click:function(n){t.copyToClip(e.type,e.url,e.name||"Default")}}},[n("div",{staticClass:"play-list__name"},[n("span",[t._v("\n\t\t\t\t\t\t\t\t"+t._s(e.name||"Default")+" "+t._s(e.type&&!e.type.includes("play")?"("+e.type+")":"")+"\n\t\t\t\t\t\t\t\t")]),t._v(" "),n("span",{staticClass:"play-list__date"},[t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(t.niceDate(e.date))+"\n\t\t\t\t\t\t\t\t")])]),t._v(" "),n("div",{staticClass:"play-list__url"},[t._v(t._s(e.url))])]),t._v(" "),n("div",{on:{click:function(n){t.copyToClip(e.type,e.url,e.name||"Default")}}},[n("span",{staticClass:"wmp-icon-link"})]),t._v(" "),t.isMobile?n("div",[n("a",{attrs:{href:t.whatsAppLink(e),target:"_blank",rel:"noopener"}},[n("span",{staticClass:"wmp-icon-whatsapp"})])]):t._e(),t._v(" "),n("div",[n("a",{attrs:{href:t.twitterLink(e),target:"_blank",rel:"noopener"}},[n("span",{staticClass:"wmp-icon-twitter"})])]),t._v(" "),n("div",{class:{active:t.copyURLActive==e.url},attrs:{title:"Copy data URL"},on:{click:function(n){t.copyToClip("url",e.url)}}},[n("span",{staticClass:"wmp-icon-copy"})])])}))])]):t._e(),t._v(" "),n("div",{staticClass:"button-group"},[n("button",{staticClass:"button btn--blue",on:{click:t.exportFile}},[t._v("save file")])])])])},a=[];n.d(e,"a",function(){return i}),n.d(e,"b",function(){return a})}}]);