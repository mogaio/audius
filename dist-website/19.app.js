(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{128:function(t,e,n){},220:function(t,e,n){"use strict";var a=n(128);n.n(a).a},356:function(t,e,n){"use strict";n.r(e);var a=n(0);function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),a.forEach(function(e){i(t,e,n[e])})}return t}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var c={data:function(){return{copyActive:null,copyURLActive:null}},computed:o({},Object(a.e)(["exportURLs","currentMediaSource","isMobile"]),Object(a.c)(["currentName","currentExportData"]),Object(a.e)({matrixRooms:function(t){return t.matrix.sources}}),{exportTypeName:function(){return{playList:"Playlist",matrix:"Room",webScraper:"Channel"}[this.currentMediaSource.type]}}),methods:o({},Object(a.b)(["exportToURL","exportToFile","error"]),{exportFile:function(){var t=this.currentMediaSource,e=t.id,n=t.type;this.exportToFile({data:this.currentExportData,fileName:"".concat(e||"Default",".").concat({playList:"audius-playlist",webScraper:"audius-channel"}[n])})},niceDate:function(t){if(!t)return t;var e=new Date(t),n=e.getMinutes()<10?"0".concat(e.getMinutes()):e.getMinutes();return"".concat(e.getFullYear(),"-").concat(e.getMonth()+1,"-").concat(e.getDate()," ").concat(e.getHours(),":").concat(n)},getLink:function(t,e,n){return"Imgur"===t?"".concat(window.location.href,"?showImgur=1"):"matrix"===t?"".concat(window.location.href,"?import=").concat(this.currentMediaSource.id,"&type=").concat(this.currentMediaSource.type,"&title=").concat(encodeURIComponent(this.matrixRooms[this.currentMediaSource.id].name)):["channel","playList",void 0].includes(t)?"".concat(window.location.href,"?import=").concat(e,"&type=").concat(t,"&title=").concat(encodeURIComponent(n)):"url"===t?e:""},copyToClip:function(t,e,n){var a=this;window.getSelection().removeAllRanges();var o=document.createElement("div");o.innerHTML=this.getLink(t,e,n),document.body.appendChild(o);var i=document.createRange();i.selectNode(o),window.getSelection().addRange(i);try{document.execCommand("copy"),n?this.copyActive=e:this.copyURLActive=e||!0,setTimeout(function(){a.copyURLActive=null,a.copyActive=null},800)}catch(t){this.error("Could not copy to clipboard. ".concat(t))}window.getSelection().removeAllRanges(),o.parentNode.removeChild(o)},twitterLink:function(t){var e="".concat(t.name||"Default"," (").concat(t.type,") ").concat(this.getLink(t.type,t.url,t.name));return"https://twitter.com/intent/tweet?text=".concat(encodeURIComponent(e))},whatsAppLink:function(t){var e="".concat(t.name||"Default"," (").concat(t.type,") ").concat(this.getLink(t.type,t.url,t.name));return encodeURIComponent("https://api.whatsapp.com/send?text=".concat(encodeURIComponent(e)))}})},r=(n(220),n(2)),s=Object(r.a)(c,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"play-list__import play-list__export"},[n("div",{staticClass:"play-list__import-header"},[n("div",[t._v(" Share "+t._s(t.exportTypeName)+" ")]),t._v(" "),n("span",{staticClass:"wmp-icon-close",attrs:{title:"[Esc] Close"},on:{click:function(e){t.$emit("toggleExport",!1)}}})]),t._v(" "),"webScraper"===t.currentMediaSource.type&&"Imgur"==t.currentMediaSource.id?n("div",[n("button",{staticClass:"button btn--blue play-list__export-copy-room",class:{active:t.copyURLActive},on:{click:function(e){t.copyToClip("Imgur")}}},[t._v("\n\t\t\t\tcopy link\n\t\t\t")])]):t._e(),t._v(" "),"matrix"===t.currentMediaSource.type?n("div",{staticClass:"play-list__export-room"},[n("button",{staticClass:"button btn--blue play-list__export-copy-room",class:{active:t.copyURLActive},on:{click:function(e){t.copyToClip("matrix")}}},[t._v("\n\t\t\t\tcopy link\n\t\t\t")]),t._v(" "),n("a",{staticClass:"button btn--blue",attrs:{href:t.twitterLink({type:"matrix",name:t.matrixRooms[t.currentMediaSource.id].name}),target:"_blank",rel:"noopener"}},[n("span",{staticClass:"wmp-icon-twitter"}),t._v(" "),n("div",[t._v("twitter")])]),t._v(" "),t.isMobile?n("a",{staticClass:"button btn--blue",attrs:{href:t.whatsAppLink({type:"matrix",name:t.matrixRooms[this.currentMediaSource.id].name}),target:"_blank",rel:"noopener"}},[n("span",{staticClass:"wmp-icon-whatsapp"}),t._v(" "),n("div",[t._v("whatsapp")])]):t._e()]):n("div",["Imgur"!=t.currentMediaSource.id?n("div",{staticClass:"button-group"},[n("button",{staticClass:"button btn--blue",on:{click:t.exportToURL}},[t._v("create link")])]):t._e(),t._v(" "),t.exportURLs.length?n("div",{staticClass:"play-list__export-list-wrapper"},["Imgur"!=t.currentMediaSource.id?n("p",{staticClass:"smaller"},[t._v("\n\t\t\t\tClick and paste to share your "+t._s(t.exportTypeName)+".\n\t\t\t")]):t._e(),t._v(" "),n("p",[n("ul",{staticClass:"play-list__exports"},t._l(t.exportURLs,function(e){return n("li",[n("div",{staticClass:"play-list__full",class:{active:t.copyActive==e.url},attrs:{title:"Copy link"},on:{click:function(n){t.copyToClip(e.type,e.url,e.name||"Default")}}},[n("div",{staticClass:"play-list__name"},[n("span",[t._v("\n\t\t\t\t\t\t\t\t"+t._s(e.name||"Default")+" "+t._s(e.type&&!e.type.includes("play")?"("+e.type+")":"")+"\n\t\t\t\t\t\t\t\t")]),t._v(" "),n("span",{staticClass:"play-list__date"},[t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(t.niceDate(e.date))+"\n\t\t\t\t\t\t\t\t")])]),t._v(" "),n("div",{staticClass:"play-list__url"},[t._v(t._s(e.url))])]),t._v(" "),n("div",{on:{click:function(n){t.copyToClip(e.type,e.url,e.name||"Default")}}},[n("span",{staticClass:"wmp-icon-link"})]),t._v(" "),t.isMobile?n("div",[n("a",{attrs:{href:t.whatsAppLink(e),target:"_blank",rel:"noopener"}},[n("span",{staticClass:"wmp-icon-whatsapp"})])]):t._e(),t._v(" "),n("div",[n("a",{attrs:{href:t.twitterLink(e),target:"_blank",rel:"noopener"}},[n("span",{staticClass:"wmp-icon-twitter"})])]),t._v(" "),n("div",{class:{active:t.copyURLActive==e.url},attrs:{title:"Copy data URL"},on:{click:function(n){t.copyToClip("url",e.url)}}},[n("span",{staticClass:"wmp-icon-copy"})])])}))])]):t._e(),t._v(" "),n("div",{staticClass:"button-group"},[n("button",{staticClass:"button btn--blue",on:{click:t.exportFile}},[t._v("save file")])])])])},[],!1,null,null,null);s.options.__file="play-list-export.vue";e.default=s.exports}}]);