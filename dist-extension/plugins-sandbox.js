!function(e){var t={};function a(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.m=e,a.c=t,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)a.d(r,i,function(t){return e[t]}.bind(null,i));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=340)}({340:function(module,exports,__webpack_require__){"use strict";var logger=window.console.log,pluginSandbox={parsers:{},youtubeApiKey:"",init:function(){var e=this;window.addEventListener("message",function(t){if(logger("## sandbox event",t.data),e.messageSource||(logger("## sandbox handshake complete"),e.messageSource=t.source,e.messageOrigin=t.origin),"loadScript"===t.data.type)e.loadScript(t.data);else if("getNext"===t.data.type)e.getNext(t.data.id);else if(t.data.id in e.parsers&&t.data.type in e.parsers[t.data.id]){var a=void 0;try{a=e.parsers[t.data.id][t.data.type](t.data.data)}catch(a){e.message({audius:!0,vuex:"commit",type:"error",data:"Error parsing "+t.data.id+". "+a})}!a&&a.type&&e.message({audius:!0,vuex:"commit",type:"error",data:"Error in scraper "+t.data.id+", function "+t.data.type+" did not return any data."}),["getYouTubeInfo","scanOneUrl","ajaxRaw","ajaxJSON"].includes(a.type)?e.message(Object.assign(a,{id:t.data.id,youtubeApiKey:e.youtubeApiKey})):"mediaList"===a.type?e.message({audius:!0,vuex:"dispatch",type:"webScraperUpdateSuccess",data:{id:t.data.id,mediaList:a.data}}):"noop"===a.type||e.message({audius:!0,vuex:"commit",type:"error",data:"Unknown plugin command "+a[0]+"."})}})},message:function(e){this.messageSource.postMessage(e,this.messageOrigin)},getNext:function(e){try{var t=this.parsers[e].getUrl();this.message(Object.assign(t,{id:e}))}catch(e){this.message({audius:!0,vuex:"commit",type:"error",data:"Error getting next page. "+e})}},loadScript:function loadScript(options){var id=options.id,code=options.code,youtubeApiKey=options.youtubeApiKey;this.parsers[id]&&this.message({audius:!0,vuex:"commit",type:"error",data:"Script '"+id+"' is already loaded"});try{this.parsers[id]=eval(code),options.responseTemplate&&this.message(options.responseTemplate),this.youtubeApiKey=youtubeApiKey,this.getNext(id)}catch(e){this.message({audius:!0,vuex:"commit",type:"error",data:"Error loading script. "+e})}}};logger("# Plugin sandbox"),pluginSandbox.init()}});